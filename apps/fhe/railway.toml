# yaml-language-server: $schema=https://railway.com/railway.schema.json
# FHE Service - Rust/Axum on port 5001
# Private networking only (no public domain)
#
# Required env vars (set via Railway dashboard/CLI):
#   RUST_LOG=info
#   PORT=5001
#   HOST=0.0.0.0  (IPv4 required for Railway healthchecks)
#   INTERNAL_SERVICE_TOKEN=<secret>
#   FHE_KEYS_DIR=/var/lib/zentity/fhe
#
# Required volumes (create via Railway dashboard):
#   fhe-volume â†’ /var/lib/zentity/fhe
#     - Persists TFHE encryption keys (avoids regeneration on restart)

[build]
builder = "DOCKERFILE"

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 300
restartPolicyType = "ALWAYS"
numReplicas = 1
